[tools]
node = "22.20.0"
pnpm = "10.18.3"

[env]
_.path = "node_modules/.bin"

# Grouped tasks
[tasks.publish]
tools.npm = "latest"
run = "changeset publish"
depends = ["build"]

[tasks.qa]
description = "Runs all code quality checks (linting, types, dependencies)"
run = { tasks = ["lint-syntax", "type-check", "audit-deps"] }

# Individual tasks
[tasks.build]
description = "Build package with tsdown"
run = "tsdown"

[tasks.test]
description = "Run functionality tests with vitest"
run = "vitest --run"

[tasks.lint-syntax]
description = "Lint source with eslint"
run = "eslint ."

[tasks.type-check]
description = "Run type checks"
run = "tsc --noEmit"

[tasks.audit-deps]
description = "Audit source with knip"
run = "knip"
